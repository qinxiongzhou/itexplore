---
layout: post
title:  "玩转mongodb（一）：初识mongodb"
date:   2016-05-26 10:13:38 +0800
categories: 玩转mongodb
---
* content
{:toc}

简介				{#introduction}
=============================

<p><span style="font-size: 16px;">&nbsp; &nbsp; MongoDB是一个开源的文档数据库，支持高性能、高可用性、自动缩放。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 在MongoDB中，一<span style="font-family: 宋体;">条记录就是一个文档，是由字段和值对构成一个数据结构，类似于JSON对象。字段的值可以包括其他文档、数组和文档的数组。</span></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 数据结构如下所示：</span></p>
<p><span style="font-family: 宋体; font-size: 16px;">&nbsp; <img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527214549100-1749025771.png" alt="" /></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; mongodb中有三元素：数据库，集合，文档，其中&ldquo;集合&rdquo;</span><span style="font-size: 16px;">就是对应关系型数据库中的&ldquo;表&rdquo;，&ldquo;文档&rdquo;对应&ldquo;行&rdquo;。</span></p>
<p>&nbsp;</p>

下载mongodb和robomongo		{#download}
=============================

<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;到<span style="color: #00ff00;"><a title="mongodb官网下载地址" href="https://www.mongodb.com/download-center?jmp=nav" target="_blank"><span style="color: #00ff00;">mongo官网</span></a></span>下载mongodb软件。mongodb支持Windows、Linux、OSX、Solaris这四个平台，大家可以根据自己所用系统，下载对应版本的mongodb。下载的时候，要注意两点：</span></p>
<p><span style="font-size: 16px; line-height: 1.5;">&nbsp; &nbsp; ①：根据业界规则，偶数为&ldquo;稳定版&rdquo;（如：2.0.X，2.2.X），奇数为&ldquo;开发版&rdquo;（如：2.1.X，2.3.X)。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; ②：</span><span style="font-size: 16px;">32bit的mongodb最大只能存放2G的数据，64bit就没有限制。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 我目前用的是windows10操作系统，64bit。下载的是：mongodb-win32-x86_64-3.0.7这个版本。这里提供<span style="color: #00ff00;"> <a title="mongodb 32bit国内下载地址" href="http://download.csdn.net/detail/zhouqinxiong/9532519" target="_blank"><span style="color: #00ff00;">32bit</span></a></span>&nbsp;和 <span style="color: #00ff00;"><a title="mongodb 64bit国内下载地址" href="http://download.csdn.net/detail/zhouqinxiong/9532537" target="_blank"><span style="color: #00ff00;">64bit</span></a>&nbsp;</span>国内的下载地址。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 到<a title="robomongo官网" href="https://robomongo.org/" target="_blank"><span style="color: #00ff00;">robomongo官网</span></a>下载robomongo软件。robomongo是mongodb的可视化客户端工具。这里提供 <span style="color: #00ff00;"><a title="robomongo国内的下载地址" href="http://download.csdn.net/detail/zhouqinxiong/9533481" target="_blank"><span style="color: #00ff00;">robomongo</span></a>&nbsp;</span>国内的下载地址。</span></p>
<p>&nbsp;</p>

启动mongodb		{#start}
=============================

<p><span style="font-size: 16px;">&nbsp; &nbsp; 把下载好的mongodb放到D盘的mongo文件夹下，改名为mongod。把robomongo也放到D盘的mongo文件夹下，改名为robomongo。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527231528709-1761027148.png" alt="" /></span></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; <span style="font-size: 16px;">在mongod文件夹下，新建一个db的文件夹。用于存放mongodb的数据。</span></p>
<p>&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527232442772-1835888560.png" alt="" /></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 按下键盘上的win键+R，输入cmd回车。启动命令行窗口。切换到D:\mongo\mongod\bin。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 执行mongod --dbpath=../db命令。</span></p>
<p>&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527232751491-1700923623.png" alt="" /><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 如图所示：mongodb现在运行在10368号进程（这个进程号每次都可能不同），端口为27017，dbpath为../db，host为本机的机器名。</span></p>
<p>&nbsp;</p>

客户端链接		{#client}
=============================

<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;按下键盘上的win键+R，输入cmd回车。启动新的命令行窗口。切换到D:\mongo\mongod\bin。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 输入命令：mongo。默认连接本地，端口为27017的mongod服务器上的test数据库上。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527235820459-543927143.png" alt="" /></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 插入一条记录：输入命令：db.person.insert({"name":"ryan","age":20})</span></p>
<p>&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527235830475-308177402.png" alt="" /></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 查询该记录，输入命令：db.person.find({})</span></p>
<p>&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160527235844616-1117333360.png" alt="" /></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 显示结果多了一个&ldquo;_id&rdquo;这个字段，这是mongodb自动生成的一个id，后面详细解释这个id的组成，现在只要知道是个非重复的id即可。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 接下来，我们利用robomongo这个可视化工具来看看mongodb的数据。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 双击robomongo文件夹下的Robomongo.exe（这个工具是绿色版的，直接双击可运行），新建一个connection，输入主机名：localhost和端口号27017（mongod的默认端口），默认情况下不需要用户名密码。</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160528181815444-221482791.png" alt="" /></span></p>
<p><span style="font-size: 16px;"><span style="font-size: 16px;">&nbsp; &nbsp; 连接后，我们就可以看到test这个数据库，双击person这个集合，查看里面的数据。数据的展示分三种。树形（可以看到字段的类型），表格，文本。</span></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160528183650881-660646097.png" alt="" /></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160528183705944-776508999.png" alt="" /></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp;&nbsp;<img src="http://images2015.cnblogs.com/blog/440176/201605/440176-20160528183720147-1242534607.png" alt="" /></span></p>
<p>&nbsp;</p>

致谢！             {#thanks}
===========================

<p>&nbsp; &nbsp; &nbsp; &nbsp;至此，我们完成了开发编译调试到最终上线生产运行。喜欢请关注公众号--程序猿牧场，谢谢！</p>
<p>&nbsp;<img src="https://img2020.cnblogs.com/blog/440176/202003/440176-20200316224639427-719739537.png" alt="" /></p>